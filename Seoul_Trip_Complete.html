<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ‡°ğŸ‡· é¦–çˆ¾è¡Œç¨‹æ‡¶äººåŒ…</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <style>
        :root {
            --primary: #1877F2;
            --bg: #F0F2F5;
            --white: #FFFFFF;
            --text: #050505;
            --text-sec: #65676B;
            --food: #ff6b6b;
            --cafe: #48dbfb;
            --shop: #a29bfe;
            --work: #57606f;
            --accom: #1dd1a1;
            --attr: #ff9f43;
        }
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; font-family: 'Noto Sans TC', sans-serif; background: var(--bg); color: var(--text); padding-bottom: 80px; }
        
        .app-header {
            background: rgba(255,255,255,0.98);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .app-title { font-size: 1.2rem; font-weight: 800; display: flex; align-items: center; gap: 8px; }
        .map-toggle-btn {
            background: #eee;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            cursor: pointer;
            transition: 0.2s;
        }
        .map-toggle-btn.active { background: var(--primary); color: white; }

        .tabs-container {
            position: sticky;
            top: 71px; 
            z-index: 900;
            background: var(--bg);
            padding: 10px 0;
            overflow-x: auto;
            white-space: nowrap;
            -ms-overflow-style: none;
            scrollbar-width: none;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .tabs-container::-webkit-scrollbar { display: none; }
        
        .tab-btn {
            display: inline-block;
            margin-left: 12px;
            padding: 8px 16px;
            background: var(--white);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-sec);
            border: 1px solid #ddd;
            cursor: pointer;
            transition: 0.2s;
        }
        .tab-btn:last-child { margin-right: 12px; }
        .tab-btn.active {
            background: var(--text);
            color: white;
            border-color: var(--text);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .container { 
            max-width: 600px; 
            margin: 0 auto; 
            padding: 10px 15px; 
            min-height: 300px;
        }

        .card {
            background: var(--white);
            border-radius: 16px;
            padding: 18px;
            margin-bottom: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.03);
        }
        
        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .card-badges { display: flex; gap: 6px; flex-wrap: wrap; }
        .badge { font-size: 0.75rem; padding: 3px 8px; border-radius: 6px; color: white; font-weight: 600; }
        .badge.zone { background: #eee; color: #555; }
        
        .cat-ç¾é£Ÿ { background: var(--food); }
        .cat-æ—©åˆé¤ { background: #feca57; color: #333; }
        .cat-å’–å•¡ç”œé» { background: var(--cafe); color: #333; }
        .cat-è³¼ç‰©, .cat-é¸ç‰©, .cat-æœé£¾, .cat-å½©å¦, .cat-é›œè²¨ { background: var(--shop); }
        .cat-Work, .cat-å±•è¦½, .cat-å·¥ä½œå’–å•¡ { background: var(--work); }
        .cat-ä½å®¿ { background: var(--accom); }
        .cat-æ™¯é» { background: var(--attr); }

        .place-name-cn { font-size: 1.15rem; font-weight: 700; color: #111; margin-bottom: 4px; line-height: 1.3; }
        .place-name-kr { font-size: 0.9rem; color: #777; font-weight: 500; margin-bottom: 10px; font-family: "Malgun Gothic", sans-serif; }
        
        .info-row { display: flex; align-items: flex-start; gap: 6px; font-size: 0.85rem; color: #555; margin-bottom: 4px; }
        
        /* å¿…åƒå¿…è²·å€å¡Š - é†’ç›®æ¨£å¼ */
        .must-try-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-left: 4px solid #ff9800;
            border-radius: 8px;
            padding: 12px 14px;
            margin: 12px 0;
        }
        .must-try-title {
            font-size: 0.8rem;
            font-weight: 700;
            color: #e65100;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .must-try-content {
            font-size: 0.9rem;
            color: #333;
            line-height: 1.5;
        }
        .price-tag {
            display: inline-block;
            background: #fff;
            color: #555;
            font-size: 0.75rem;
            padding: 2px 8px;
            border-radius: 4px;
            margin-top: 6px;
            border: 1px solid #ddd;
        }
        
        .actions { margin-top: 15px; display: flex; gap: 10px; }
        .action-btn {
            flex: 1;
            padding: 10px;
            text-align: center;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .btn-google { background: #e8f0fe; color: #1967d2; }
        .btn-naver { background: #e0f8eb; color: #03c75a; }

        #map-container {
            position: fixed;
            top: 72px; 
            left: 0;
            width: 100%;
            height: calc(100% - 72px);
            background: white;
            z-index: 950;
            display: none; 
        }
        #map-container.visible { display: block; }
        #map { width: 100%; height: 100%; }
        
        .leaflet-popup-content-wrapper { border-radius: 12px; }
        .popup-title { font-weight: bold; font-size: 1rem; margin-bottom: 5px; }
        .popup-nav { display: block; margin-top: 8px; background: #03C75A; color: white; text-align: center; padding: 6px; border-radius: 6px; text-decoration: none; font-size: 0.8rem; }
        
        #error-msg { color: red; padding: 20px; text-align: center; display: none; }
    </style>
</head>
<body>

    <div class="app-header">
        <div class="app-title">ğŸ‡°ğŸ‡· é¦–çˆ¾è¡Œç¨‹æ‡¶äººåŒ…</div>
        <button class="map-toggle-btn" id="map-btn" onclick="toggleMode()">ğŸ—ºï¸</button>
    </div>

    <div class="tabs-container" id="category-tabs">
        <div class="tab-btn active" onclick="filter('all')">å…¨éƒ¨</div>
        <div class="tab-btn" onclick="filter('ç¾é£Ÿ')">ğŸœ ç¾é£Ÿ</div>
        <div class="tab-btn" onclick="filter('å’–å•¡ç”œé»')">â˜• å’–å•¡/ç”œé»</div>
        <div class="tab-btn" onclick="filter('è³¼ç‰©')">ğŸ›ï¸ è³¼ç‰©/é€›è¡—</div>
        <div class="tab-btn" onclick="filter('Work')">ğŸ’» Work</div>
        <div class="tab-btn" onclick="filter('ä½å®¿')">ğŸ  ä½å®¿</div>
        <div class="tab-btn" onclick="filter('æ™¯é»')">ğŸ“ æ™¯é»</div>
    </div>

    <div id="map-container">
        <div id="map"></div>
    </div>

    <div class="container" id="list-container">
        <div id="loading-msg" style="text-align:center; padding:40px; color:#888;">Loading... â³</div>
        <div id="error-msg"></div>
    </div>

    <script>
        // å®Œæ•´è³‡æ–™ï¼šå«å¿…åƒå¿…è²·
        const places = [
            {"cn_name":"æ¸…å’Œå±‹ ä¹™æ”¯è·¯ç›´ç‡Ÿåº—","kr_name":"ì²­ì™€ì˜¥ ì„ì§€ë¡œ3ê°€ì§ì˜ì ","category":"ç¾é£Ÿ","note":"åŠ‰åœ¨çŸ³æ¨è–¦æ¹¯é£¯","hours":"08:00 - 22:00","zone":"æ˜æ´/é¾è·¯","lat":37.5660015,"lon":126.9901968,
             "mustTry":"æ‹›ç‰Œï¼šè±¬è‚‰æ¹¯é£¯ (ë¼ì§€êµ­ë°¥)ã€å…§è‡Ÿæ¹¯é£¯ (ë‚´ì¥êµ­ë°¥)ï¼›åŠ é¹½å·´èª¿å‘³æ›´ä½³","price":"â‚©10,000-15,000"},
            {"cn_name":"å€«æ•¦è²æœåšç‰©é¤¨ å®‰åœ‹åº—","kr_name":"ëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„ ì•ˆêµ­ì ","category":"æ—©åˆé¤","note":"æ¨å¤§è’œå£å‘³","hours":"08:00 - 18:00","zone":"æ˜æ´/é¾è·¯","lat":37.5792526,"lon":126.9859384,
             "mustTry":"å¿…é»ï¼šå¤§è’œè²æœ (ë§ˆëŠ˜ë² ì´ê¸€)ã€å¥¶æ²¹èµ·å¸æŠ¹é†¬ (í¬ë¦¼ì¹˜ì¦ˆ)ã€ç«è…¿èµ·å¸è²æœï¼›éœ€æ’éšŠå–è™Ÿ","price":"â‚©5,000-12,000"},
            {"cn_name":"æ–°ä»™é›ªæ¿ƒæ¹¯ æ˜æ´åº—","kr_name":"ì‹ ì„ ì„¤ë†íƒ• ëª…ë™ì ","category":"ç¾é£Ÿ","note":"å»ºè­°åŠ é¹½å·´","hours":"24 å°æ™‚ç‡Ÿæ¥­","zone":"æ˜æ´/é¾è·¯","lat":37.5647104,"lon":126.9867180,
             "mustTry":"æ‹›ç‰Œï¼šç‰›éª¨é›ªæ¿ƒæ¹¯ (ì„¤ë†íƒ•)ï¼›å»ºè­°åŠ é¹½å·´ã€è”¥èŠ±èª¿å‘³ï¼›é™„ç™½é£¯å’Œè˜¿è””æ³¡èœ","price":"â‚©12,000-15,000"},
            {"cn_name":"ç„¡å¢å±‹","kr_name":"ë¬´êµ¬ì˜¥","category":"ç¾é£Ÿ","note":"12:00 é–‹æ”¾è¨‚ä½","hours":"11:30 - 21:00","zone":"æ˜æ´/é¾è·¯","lat":37.5775630,"lon":126.9813512,
             "mustTry":"å¿…é»ï¼šé®‘é­šç²¥ (ì „ë³µì£½)ã€æµ·é®®ç²¥ (í•´ë¬¼ì£½)ã€å—ç“œç²¥ (í˜¸ë°•ì£½)ï¼›12:00é–‹æ”¾ç•¶æ—¥è¨‚ä½","price":"â‚©15,000-25,000"},
            {"cn_name":"æœæœåˆ€å‰Šéºµ å¸‚å»³åº—","kr_name":"ì¡°ì¡°ì¹¼êµ­ìˆ˜ ì‹œì²­ì ","category":"ç¾é£Ÿ","note":"","hours":"10:00 - 21:30","zone":"æ˜æ´/é¾è·¯","lat":37.5620078,"lon":126.9754246,
             "mustTry":"æ‹›ç‰Œï¼šæ‰‹å·¥åˆ€å‰Šéºµ (ì¹¼êµ­ìˆ˜)ã€é¤ƒå­ (ë§Œë‘)ã€æµ·é®®åˆ€å‰Šéºµ (í•´ë¬¼ì¹¼êµ­ìˆ˜)","price":"â‚©9,000-13,000"},
            {"cn_name":"è±¬ä»”å­˜éŒ¢ç­’","kr_name":"ë¼ì§€ì €ê¸ˆí†µ","category":"ç¾é£Ÿ","note":"å¼˜å¤§ç«™ 8 è™Ÿå‡ºå£","hours":"14:00 - 02:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5562643,"lon":126.9262793,
             "mustTry":"å¿…é»ï¼šé®®çƒ¤äº”èŠ±è‚‰ (ì‚¼ê²¹ì‚´)ã€è±¬é ¸è‚‰ (ëª©ì‚´)ã€è’œç“£çƒ¤è‚‰ï¼›æ­é…åŒ…èœå’Œé†¬æ–™","price":"â‚©15,000-20,000/äºº"},
            {"cn_name":"æ©‹æ‘ç­†æˆ¿","kr_name":"êµì´Œí•„ë°©","category":"ç¾é£Ÿ","note":"é€±ä¸€å…¬ä¼‘","hours":"16:00 - 23:30","zone":"æ¼¢å—/æ¢¨æ³°é™¢","lat":37.5256549,"lon":127.0014189,
             "mustTry":"æ‹›ç‰Œï¼šç‚­ç«é›è‚‰ä¸² (ë‹­ê¼¬ì¹˜)ã€é›è‚‰ä¸¸ä¸²ã€é›çš®ä¸²ï¼›é€±ä¸€å…¬ä¼‘","price":"â‚©3,000-6,000/ä¸²"},
            {"cn_name":"JO & DAWSON","kr_name":"ì¡°ì•¤ë„ìŠ¨","category":"å’–å•¡ç”œé»","note":"ç„¦ç³–å¸ƒä¸ååº—","hours":"12:00 - 21:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5636894,"lon":126.9228307,
             "mustTry":"å¿…é»ï¼šç„¦ç³–å¸ƒä¸ (ì¹´ë¼ë©œ í‘¸ë”©)ã€å·´æ–¯å…‹èµ·å¸è›‹ç³•ã€å’–å•¡ï¼›äººæ°£ååº—éœ€æ’éšŠ","price":"â‚©8,000-15,000"},
            {"cn_name":"é”æ‘©å‰ ä¹™æ”¯è·¯åº—","kr_name":"ë‹¬ë§ˆì§€ ì„ì§€ë¡œì ","category":"ç¾é£Ÿ","note":"æœ€å¾Œé»é¤ 01:00","hours":"16:00 - 02:00","zone":"æ˜æ´/é¾è·¯","lat":37.5662506,"lon":126.9987609,
             "mustTry":"æ¨è–¦ï¼šç‚¸é› (ì¹˜í‚¨)ã€å•¤é…’å¥—é¤ï¼›ä¹™æ”¯è·¯å¾©å¤é¢¨æ ¼é…’å§","price":"â‚©18,000-25,000"},
            {"cn_name":"é¾é¾å…ˆç”Ÿ è–æ°´åº—","kr_name":"ìš©ìš©ì„ ìƒ ì„±ìˆ˜ì ","category":"ç¾é£Ÿ","note":"æœ€å¾Œé»é¤ 21:00","hours":"16:00 - 22:00","zone":"è–æ°´æ´","lat":37.5440368,"lon":127.0565971,
             "mustTry":"å¿…é»ï¼šéº»è¾£é¦™é‹ (ë§ˆë¼ìƒ¹ê¶ˆ)ã€æ°´ç…®ç‰›è‚‰ã€æ“”æ“”éºµï¼›äººæ°£ä¸­è¯æ–™ç†","price":"â‚©15,000-25,000"},
            {"cn_name":"é˜ä¸‰å…­","kr_name":"ì¢…ì‚¼ìœ¡","category":"ç¾é£Ÿ","note":"é˜è·¯ä¸‰è¡—ç«™","hours":"14:00 - 23:30","zone":"æ˜æ´/é¾è·¯","lat":37.5725657,"lon":126.9900452,
             "mustTry":"æ‹›ç‰Œï¼šéŸ“ç‰›ç‡’è‚‰ (í•œìš°)ã€ç‰›äº”èŠ± (ì°¨ëŒë°•ì´)ã€èª¿å‘³ç‰›æ’éª¨ï¼›é˜è·¯ä¸‰è¡—è€åº—","price":"â‚©30,000-50,000/äºº"},
            {"cn_name":"å­«å®¶ç‡‰é›","kr_name":"ì†ê°€ë„¤ë‹­í•œë§ˆë¦¬","category":"ç¾é£Ÿ","note":"éš±è—ç‰ˆååº—","hours":"11:00 - 22:00","zone":"æ˜æ´/é¾è·¯","lat":37.5735870,"lon":127.0213125,
             "mustTry":"å¿…é»ï¼šä¸€éš»é› (ë‹­í•œë§ˆë¦¬)ï¼›é›è‚‰ç‡‰é‹ã€åŠ éºµæ¢æ”¶å°¾ï¼›éš±è—ç‰ˆäººæ°£ååº—","price":"â‚©25,000-30,000"},
            {"cn_name":"çµ±ç‡Ÿè’¸ç‰¡è £","kr_name":"í†µì˜êµ´ì°œ","category":"ç¾é£Ÿ","note":"å­£ç¯€é™å®š","hours":"11:00 - 22:00","zone":"æ±çŸ£å³¶","lat":37.5267088,"lon":126.9238000,
             "mustTry":"æ‹›ç‰Œï¼šè’¸ç‰¡è £å¥—é¤ (êµ´ì°œ)ã€ç‰¡è £ç…é¤… (êµ´ì „)ï¼›å­£ç¯€é™å®š (å†¬å­£æœ€ä½³)","price":"â‚©25,000-40,000"},
            {"cn_name":"ç„¡å¢å±‹ è–æ°´åº—","kr_name":"ë¬´êµ¬ì˜¥ ì„±ìˆ˜ì ","category":"ç¾é£Ÿ","note":"è–æ°´ç«™åˆ†åº—","hours":"11:30 - 21:00","zone":"è–æ°´æ´","lat":37.5447374,"lon":127.0593428,
             "mustTry":"å¿…é»ï¼šé®‘é­šç²¥ (ì „ë³µì£½)ã€å—ç“œç²¥ (í˜¸ë°•ì£½)ã€è”¬èœç²¥ï¼›è–æ°´åˆ†åº—","price":"â‚©15,000-25,000"},
            {"cn_name":"æ¼¢å—æ´é¦¬éˆ´è–¯æ’éª¨æ¹¯","kr_name":"í•œë‚¨ë™ê°ìíƒ•","category":"ç¾é£Ÿ","note":"å¿…åƒè€åº—","hours":"24 å°æ™‚ç‡Ÿæ¥­","zone":"æ¼¢å—/æ¢¨æ³°é™¢","lat":37.5308068,"lon":126.9967969,
             "mustTry":"æ‹›ç‰Œï¼šé¦¬éˆ´è–¯æ’éª¨æ¹¯ (ê°ìíƒ•)ã€è±¬éª¨æ¹¯ã€åŠ æ³¡éºµæ›´è±å¯Œï¼›24å°æ™‚ç‡Ÿæ¥­","price":"â‚©12,000-20,000"},
            {"cn_name":"Parole & Langue","kr_name":"íŒŒë¡¤ì•¤ë‘ê·¸","category":"å’–å•¡ç”œé»","note":"å¡”é¡ç”œé»ç†±é–€åº—","hours":"13:00 - 21:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5651538,"lon":126.9229985,
             "mustTry":"å¿…é»ï¼šå¡”é¡ç”œé» (íƒ€ë¥´íŠ¸)ã€æ°´æœå¡”ã€å·§å…‹åŠ›å¡”ã€å’–å•¡ï¼›å»¶å—æ´ç†±é–€åº—","price":"â‚©8,000-15,000"},
            {"cn_name":"Buttyä¸‰æ˜æ²»","kr_name":"ë²„í‹°ìƒŒë“œìœ„ì¹˜","category":"å’–å•¡ç”œé»","note":"å·§å·´é”ä¸‰æ˜æ²»","hours":"11:00 - 19:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5558600,"lon":126.9008700,
             "mustTry":"æ‹›ç‰Œï¼šå·§å·´é”ä¸‰æ˜æ²» (ì¹˜ì•„ë°”íƒ€ ìƒŒë“œìœ„ì¹˜)ã€ç«è…¿èµ·å¸æ¬¾ã€é›è›‹æ²™æ‹‰æ¬¾","price":"â‚©8,000-12,000"},
            {"cn_name":"é¦¬å±±è€å¥¶å¥¶é®Ÿé±‡é­šè’¸","kr_name":"ë§ˆì‚°í• ë§¤ì•„êµ¬ì°œ","category":"ç¾é£Ÿ","note":"åœ¨åœ°å£ç¢‘åº—","hours":"11:00 - 22:00","zone":"æ¼¢å—/æ¢¨æ³°é™¢","lat":37.5501100,"lon":126.9802800,
             "mustTry":"å¿…é»ï¼šè¾£è’¸é®Ÿé±‡é­š (ì•„êµ¬ì°œ)ã€åŠ è±†èŠ½èœï¼›åœ¨åœ°è€å­—è™Ÿååº—","price":"â‚©35,000-50,000"},
            {"cn_name":"hetras è–æ°´","kr_name":"í—¤íŠ¸ë¼ìŠ¤ ì„±ìˆ˜","category":"è³¼ç‰©","note":"æ¨è–¦ No.29, No.7, No.5","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5411759,"lon":127.0595267,
             "mustTry":"å¿…è²·ï¼šé¦™æ°´ No.29 (æ¸…æ–°èŠ±é¦™)ã€No.7 (æœ¨è³ªèª¿)ã€No.5 (ç¶“å…¸æ¬¾)ï¼›éŸ“åœ‹å°çœ¾é¦™æ°´å“ç‰Œ","price":"â‚©80,000-150,000"},
            {"cn_name":"newmix coffee","kr_name":"ë‰´ë¯¹ìŠ¤ì»¤í”¼","category":"å’–å•¡ç”œé»","note":"å¿…è²·å³æº¶å’–å•¡ä¼´æ‰‹ç¦®","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5411759,"lon":127.0595267,
             "mustTry":"å¿…è²·ï¼šå³æº¶å’–å•¡ç¦®ç›’ (ä¼´æ‰‹ç¦®é¦–é¸)ã€ç¾ç…®å’–å•¡ã€å’–å•¡è±†","price":"â‚©15,000-35,000"},
            {"cn_name":"ADERERROR è–æ°´","kr_name":"ì•„ë” ì„±ìˆ˜ ìŠ¤í˜ì´ìŠ¤","category":"æœé£¾","note":"æ——è‰¦æ¦‚å¿µåº—","hours":"13:00 - 21:00","zone":"è–æ°´æ´","lat":37.5364697,"lon":127.0538762,
             "mustTry":"æ¨è–¦ï¼šç¶“å…¸Logoè¡›è¡£ã€è§£æ§‹è¨­è¨ˆå¤–å¥—ã€é…ä»¶å°ç‰©ï¼›æ——è‰¦æ¦‚å¿µåº—","price":"â‚©100,000-400,000"},
            {"cn_name":"BLUE ELEPHANT è–æ°´","kr_name":"ë¸”ë£¨ì—˜ë¦¬í€íŠ¸ ì„±ìˆ˜","category":"æœé£¾","note":"å¹³åƒ¹å¢¨é¡å“ç‰Œ","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5411234,"lon":127.0565635,
             "mustTry":"å¿…è²·ï¼šå¹³åƒ¹å¤ªé™½çœ¼é¡ (å¢¨é¡)ã€éŸ“ç³»é¡æ¡†æ¬¾å¼ï¼›CPå€¼é«˜çš„éŸ“åœ‹å¢¨é¡å“ç‰Œ","price":"â‚©25,000-60,000"},
            {"cn_name":"fwee Agit","kr_name":"í“Œ ì•„ì§€íŠ¸","category":"å½©å¦","note":"å¿…è²·å¸ƒä¸å”‡æ³¥","hours":"11:00 - 21:00","zone":"è–æ°´æ´","lat":37.5430688,"lon":127.0541356,
             "mustTry":"å¿…è²·ï¼šå¸ƒä¸å”‡æ³¥ (í‘¸ë”© í‹´íŠ¸)ã€å…‰æ¾¤å”‡èœœã€è…®ç´…ï¼›éŸ“åœ‹äººæ°£å½©å¦å“ç‰Œ","price":"â‚©15,000-30,000"},
            {"cn_name":"DIOR è–æ°´","kr_name":"ë””ì˜¬ ì„±ìˆ˜","category":"æ™¯é»","note":"ç†±é–€åœ°æ¨™æ‹ç…§","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5441865,"lon":127.0528823,
             "mustTry":"æ‹ç…§æ‰“å¡é»ï¼›å®šæœŸæ›´æ›å±•è¦½ä¸»é¡Œï¼›å¯é ç´„é€²å ´","price":"å…è²»å…¥å ´"},
            {"cn_name":"NYUNYU è–æ°´","kr_name":"ë‰´ë‰´ ì„±ìˆ˜","category":"æœé£¾","note":"é£¾å“è³¼ç‰©è–åœ°","hours":"11:00 - 23:00","zone":"è–æ°´æ´","lat":37.5445,"lon":127.056,
             "mustTry":"å¿…è²·ï¼šéŸ“ç³»é£¾å“ã€è€³ç’°ã€é …éˆã€æˆ’æŒ‡ï¼›é£¾å“è³¼ç‰©è–åœ°","price":"â‚©10,000-50,000"},
            {"cn_name":"ëµêµ´ è–æ°´","kr_name":"ëµêµ´ìŠ¤í† ì–´ ì„±ìˆ˜","category":"é¸ç‰©","note":"ç”Ÿæ´»é¸ç‰©åº—","hours":"11:00 - 21:00","zone":"è–æ°´æ´","lat":37.5411234,"lon":127.0565635,
             "mustTry":"æ¨è–¦ï¼šç”Ÿæ´»é¸ç‰©ã€æ–‡å…·é›œè²¨ã€é¦™æ°›è Ÿç‡­ã€è¨­è¨ˆå°ç‰©","price":"â‚©10,000-80,000"},
            {"cn_name":"KODAK æ±å¤§é–€","kr_name":"ì½”ë‹¥ì–´íŒ¨ëŸ´ ë™ëŒ€ë¬¸","category":"æœé£¾","note":"ä½æ–¼ DunDun 2 æ¨“","hours":"10:30 - 22:00","zone":"æ˜æ´/é¾è·¯","lat":37.5693468,"lon":127.0105160,
             "mustTry":"å¿…è²·ï¼šå¾©å¤é¢¨å¤–å¥—ã€å¸½Tã€ç›¸æ©Ÿåœ–æ¡ˆTæ¤ï¼›DunDun 2æ¨“","price":"â‚©50,000-150,000"},
            {"cn_name":"ept è–æ°´","kr_name":"ì´í”¼í‹° ì„±ìˆ˜","category":"æœé£¾","note":"éŸ“åœ‹ç†±é–€é‹å‹•é‹","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5411759,"lon":127.0595267,
             "mustTry":"å¿…è²·ï¼šéŸ“åœ‹ç†±é–€é‹å‹•é‹ã€åšåº•ä¼‘é–’é‹ã€è¯åæ¬¾å¼","price":"â‚©100,000-200,000"},
            {"cn_name":"HAUS NOWHERE","kr_name":"í•˜ìš°ìŠ¤ ë…¸ì›¨ì–´","category":"é¸ç‰©","note":"è‡˜è…¸ç‹—åœ°æ¨™/æ–°å“ç‰Œ","hours":"11:00 - 21:00","zone":"è–æ°´æ´","lat":37.541,"lon":127.059,
             "mustTry":"æ¨è–¦ï¼šè¨­è¨ˆå¸«å“ç‰Œæœé£¾ã€é…ä»¶ï¼›è‡˜è…¸ç‹—åœ°æ¨™å»ºç¯‰å¿…æ‹","price":"â‚©80,000-300,000"},
            {"cn_name":"thisisneverthat","kr_name":"ë””ìŠ¤ì´ì¦ˆë„¤ë²„ëŒ“","category":"æœé£¾","note":"è¡—é ­æ½®æµç¬¬ä¸€ç«™","hours":"12:00 - 21:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5516170,"lon":126.9197938,
             "mustTry":"å¿…è²·ï¼šè¡—é ­æ½®æµTæ¤ã€è¡›è¡£ã€å¤–å¥—ã€å¸½å­ï¼›éŸ“åœ‹ä»£è¡¨æ€§è¡—ç‰Œ","price":"â‚©50,000-200,000"},
            {"cn_name":"KITH é¦–çˆ¾","kr_name":"í‚¤ìŠ¤ ì„œìš¸","category":"æœé£¾","note":"æ½®æµååº—","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5411759,"lon":127.0595267,
             "mustTry":"æ¨è–¦ï¼šè¯åé™å®šæ¬¾ã€æ½®æµé‹å‹•æœé£¾ã€çƒé‹ï¼›è–æ°´æ½®æµæ“šé»","price":"â‚©100,000-500,000"},
            {"cn_name":"HUMAN MADE","kr_name":"íœ´ë¨¼ë©”ì´ë“œ","category":"æœé£¾","note":"ç†±é–€æ½®ç‰Œ","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5412470,"lon":127.0542669,
             "mustTry":"å¿…è²·ï¼šNIGOè¨­è¨ˆç¶“å…¸æ„›å¿ƒLogoã€å‹•ç‰©åœ–æ¡ˆTæ¤ã€é…ä»¶","price":"â‚©150,000-400,000"},
            {"cn_name":"MUSINSA EMPTY","kr_name":"ë¬´ì‹ ì‚¬ ì— í”„í‹°","category":"é¸ç‰©","note":"å¤§å‹é¸å“åº—","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5364697,"lon":127.0538762,
             "mustTry":"æ¨è–¦ï¼šéŸ“åœ‹è¨­è¨ˆå¸«å“ç‰Œé›†åˆåº—ã€ç¨å®¶è¯åæ¬¾ï¼›å¤§å‹é¸å“åº—","price":"â‚©30,000-300,000"},
            {"cn_name":"æ¸…æ°´å ‚","kr_name":"ì²­ìˆ˜ë‹¹","category":"å’–å•¡ç”œé»","note":"ç›Šå–„æ´ç«¹æ—é€ æ™¯","hours":"11:30 - 22:00","zone":"æ˜æ´/é¾è·¯","lat":37.5736272,"lon":126.9905422,
             "mustTry":"å¿…é»ï¼šç«¹æ—åº§ä½å€æ‹ç…§ã€ç´…è±†ç²¥ (íŒ¥ì£½)ã€å‚³çµ±é£²å“ï¼›ç›Šå–„æ´ååº—","price":"â‚©8,000-15,000"},
            {"cn_name":"YM Coffee House","kr_name":"YMì»¤í”¼í•˜ìš°ìŠ¤","category":"å’–å•¡ç”œé»","note":"æ•™å ‚é¢¨æ ¼å°ˆæ¥­æ‰‹æ²–","hours":"12:00 - 22:00","zone":"é¦–çˆ¾å¸‚å€","lat":37.6201729,"lon":126.9174055,
             "mustTry":"æ¨è–¦ï¼šæ‰‹æ²–å’–å•¡ã€å–®å“å’–å•¡è±†ã€ç”œé»ï¼›æ•™å ‚é¢¨æ ¼å’–å•¡å»³","price":"â‚©6,000-12,000"},
            {"cn_name":"Cafe Layered å»¶å—åº—","kr_name":"ì¹´í˜ ë ˆì´ì–´ë“œ ì—°ë‚¨ì ","category":"å’–å•¡ç”œé»","note":"å¸åº·ååº—","hours":"11:00 - 22:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5649847,"lon":126.9241878,
             "mustTry":"å¿…é»ï¼šå¸åº· (ìŠ¤ì½˜)ã€å¥¶æ²¹å¸åº·ã€æœé†¬å¸åº·ã€è‰è“é®®å¥¶æ²¹æ¬¾","price":"â‚©5,000-10,000"},
            {"cn_name":"Thanks Oat å»¶å—","kr_name":"ë•¡ìŠ¤ì˜¤íŠ¸ ì—°ë‚¨","category":"å’–å•¡ç”œé»","note":"å»¶å—æ´æ‰‹å·¥å„ªæ ¼","hours":"10:00 - 19:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5650202,"lon":126.9206249,
             "mustTry":"å¿…é»ï¼šæ‰‹å·¥å„ªæ ¼ (ìš”ê±°íŠ¸)ã€ç‡•éº¥ç¢—ã€æ°´æœå„ªæ ¼ï¼›å¥åº·æ—©åˆé¤","price":"â‚©8,000-15,000"},
            {"cn_name":"ä»Šå¤©ä¹Ÿè¶³å¤ ","kr_name":"ì˜¤ëŠ˜ë„ì¶©ë¶„í•´","category":"å’–å•¡ç”œé»","note":"é€±äºŒå…¬ä¼‘","hours":"12:00 - 20:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5598873,"lon":126.9254959,
             "mustTry":"æ¨è–¦ï¼šè›‹ç³•ã€æ‰‹å·¥ç”œé»ã€å’–å•¡ï¼›é€±äºŒå…¬ä¼‘ï¼›å»¶ç¦§æ´æ°›åœå’–å•¡å»³","price":"â‚©7,000-15,000"},
            {"cn_name":"ç´ è³¢å ‚","kr_name":"ì†Œí˜„ë‹¹","category":"å’–å•¡ç”œé»","note":"éŸ“å±‹èŒ¶å®¤","hours":"11:00 - 20:00","zone":"æ˜æ´/é¾è·¯","lat":37.5796200,"lon":126.9807300,
             "mustTry":"å¿…é»ï¼šå‚³çµ±éŸ“èŒ¶ã€è—¥è“ (ì•½ê³¼)ã€éŸ“å±‹åº­é™¢åº§ä½ï¼›éŸ“å±‹èŒ¶å®¤é«”é©—","price":"â‚©10,000-18,000"},
            {"cn_name":"Artist Bakery","kr_name":"ì•„í‹°ìŠ¤íŠ¸ ë² ì´ì»¤ë¦¬","category":"å’–å•¡ç”œé»","note":"é¹½å¯é Œæ’éšŠååº—","hours":"08:00 - 20:00","zone":"æ˜æ´/é¾è·¯","lat":37.5763072,"lon":126.9843495,
             "mustTry":"å¿…é»ï¼šé¹½å¯é Œ (ì†Œê¸ˆ í¬ë¡œì™€ìƒ)ã€å¯é Œã€ç‰›è§’éºµåŒ…ï¼›æ’éšŠååº—","price":"â‚©4,000-8,000"},
            {"cn_name":"29CM è–æ°´","kr_name":"ì´êµ¬ì„±ìˆ˜","category":"é¸ç‰©","note":"ç·šä¸Šé¸å“å¯¦é«”åº—","hours":"11:00 - 20:00","zone":"è–æ°´æ´","lat":37.5453108,"lon":127.0526786,
             "mustTry":"æ¨è–¦ï¼šéŸ“åœ‹è¨­è¨ˆå¸«å“ç‰Œã€é¸å“æœé£¾ã€ç”Ÿæ´»é›œè²¨ï¼›ç·šä¸Šé¸å“å¯¦é«”åº—","price":"â‚©30,000-200,000"},
            {"cn_name":"Ground Seesaw è¥¿æ‘","kr_name":"ê·¸ë¼ìš´ë“œì‹œì†Œ ì„œì´Œ","category":"å±•è¦½","note":"è³ªæ„Ÿå±•è¦½ç©ºé–“","hours":"10:00 - 19:00","zone":"æ˜æ´/é¾è·¯","lat":37.5781385,"lon":126.9729372,
             "mustTry":"æ¨è–¦ï¼šç•¶æœŸå±•è¦½ã€è—è¡“å±•ã€æ”å½±å±•ï¼›è³ªæ„Ÿå±•è¦½ç©ºé–“é–€ç¥¨","price":"â‚©15,000-20,000"},
            {"cn_name":"å»£è—å¸‚å ´ 156è™Ÿ","kr_name":"ê´‘ì¥ì‹œì¥ 156í˜¸","category":"é›œè²¨","note":"è³¼è²·éŸ“åœ‹è£½æ£‰è¢«","hours":"09:00 - 18:00","zone":"æ˜æ´/é¾è·¯","lat":37.5700967,"lon":126.9998283,
             "mustTry":"å¿…è²·ï¼šéŸ“åœ‹è£½æ‰‹å·¥æ£‰è¢«ã€è ¶çµ²è¢«ã€æ•é ­ï¼›å‚³çµ±å¸‚å ´è€åº—","price":"â‚©100,000-500,000"},
            {"cn_name":"Cociety é¦–çˆ¾æ—","kr_name":"ì½”ì‚¬ì´ì–´í‹° ì„œìš¸ìˆ²","category":"å·¥ä½œå’–å•¡","note":"å‰µæ„å·¥ä½œç©ºé–“ (é€±ä¸€ä¼‘)","hours":"12:00 - 20:00","zone":"è–æ°´æ´","lat":37.5559574,"lon":127.0433184,
             "mustTry":"æ¨è–¦ï¼šå’–å•¡ã€ç”œé»ã€å‰µæ„ç©ºé–“ï¼›é€±ä¸€å…¬ä¼‘ï¼›å¯å·¥ä½œ","price":"â‚©6,000-12,000"},
            {"cn_name":"Brautor","kr_name":"ë¸Œë¼ìš°í„°","category":"å·¥ä½œå’–å•¡","note":"è´è¶é¤…ååº—/æ•´æ£Ÿåº§ä½","hours":"08:00 - 22:00","zone":"è–æ°´æ´","lat":37.5493171,"lon":127.0450501,
             "mustTry":"å¿…é»ï¼šè´è¶é¤… (í”„ë ˆì¦)ã€å¾·å¼æ¤’é¹½æ²é¤…ã€å’–å•¡ï¼›æ•´æ£Ÿå»ºç¯‰éƒ½æ˜¯åº§ä½","price":"â‚©5,000-12,000"},
            {"cn_name":"Debunk","kr_name":"ë””ë²™í¬","category":"å·¥ä½œå’–å•¡","note":"åœ°ä¸‹å±¤è®€æ›¸æ°›åœ","hours":"10:00 - 23:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5480049,"lon":126.9152430,
             "mustTry":"æ¨è–¦ï¼šå’–å•¡ã€ç”œé»ï¼›åœ°ä¸‹å±¤è®€æ›¸æ°›åœã€é©åˆå·¥ä½œ","price":"â‚©5,000-10,000"},
            {"cn_name":"Hollys Coffee å¼˜å¤§ç«™","kr_name":"í• ë¦¬ìŠ¤ í™ëŒ€ì—­ì ","category":"å·¥ä½œå’–å•¡","note":"24å°æ™‚/é©åˆç­†é›»","hours":"24 å°æ™‚ç‡Ÿæ¥­","zone":"å¼˜å¤§/å»¶å—","lat":37.5560817,"lon":126.9234301,
             "mustTry":"æ¨è–¦ï¼šç¾å¼å’–å•¡ã€é¬†é¤…ã€ä¸‰æ˜æ²»ï¼›24å°æ™‚ç‡Ÿæ¥­ã€é©åˆç­†é›»å·¥ä½œ","price":"â‚©5,000-12,000"},
            {"cn_name":"Ediya Coffee Lab","kr_name":"ì´ë””ì•¼ì»¤í”¼ë©","category":"å·¥ä½œå’–å•¡","note":"æ——è‰¦åº—/å¯¬æ•èˆ’é©","hours":"07:30 - 02:00","zone":"æ±Ÿå—","lat":37.5105088,"lon":127.0326807,
             "mustTry":"æ¨è–¦ï¼šå’–å•¡ã€ç”œé»ã€å¯¬æ•åº§ä½ï¼›æ——è‰¦åº—æ¦‚å¿µã€é©åˆé•·æ™‚é–“åœç•™","price":"â‚©4,000-10,000"},
            {"cn_name":"Terarosa POSCO","kr_name":"í…Œë¼ë¡œì‚¬ í¬ìŠ¤ì½”ì„¼í„°ì ","category":"å·¥ä½œå’–å•¡","note":"é‹¼éµæ›¸æ¶ç‰†/æ±Ÿå—","hours":"07:30 - 21:00","zone":"æ±Ÿå—","lat":37.5056932,"lon":127.0558968,
             "mustTry":"æ¨è–¦ï¼šæ‰‹æ²–å’–å•¡ã€éºµåŒ…ã€è›‹ç³•ï¼›é‹¼éµæ›¸æ¶ç‰†æ‰“å¡é»ã€æ±Ÿå—å•†å‹™å€","price":"â‚©6,000-15,000"},
            {"cn_name":"Mangrove æ±å¤§é–€","kr_name":"ë§¹ê·¸ë¡œë¸Œ ë™ëŒ€ë¬¸","category":"ä½å®¿","note":"ğŸ  ç†±é–€ Co-living","hours":"Check-in 15:00","zone":"æ˜æ´/é¾è·¯","lat":37.5651,"lon":127.0078},
            {"cn_name":"Local Stitch è¥¿æ©‹","kr_name":"ë¡œì»¬ìŠ¤í‹°ì¹˜ í¬ë¦¬ì—ì´í„° íƒ€ìš´ ì„œêµ","category":"ä½å®¿","note":"ğŸ  å¼˜å¤§å•†åœˆ","hours":"Check-in 15:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5562,"lon":126.9167},
            {"cn_name":"L7 å¼˜å¤§","kr_name":"L7 í™ëŒ€","category":"ä½å®¿","note":"ğŸ¨ å¼˜å¤§å…¥å£ç«™æ—","hours":"Check-in 15:00","zone":"å¼˜å¤§/å»¶å—","lat":37.5552,"lon":126.9216}
        ];

        try {
            const listContainer = document.getElementById('list-container');
            const loadingMsg = document.getElementById('loading-msg');
            
            if (listContainer) {
                if(loadingMsg) loadingMsg.remove();

                let htmlContent = '';
                
                places.forEach(p => {
                    const cn = p.cn_name || 'Unknown';
                    const kr = p.kr_name || '';
                    const cat = p.category || 'Other';
                    const zone = p.zone || '';
                    const note = p.note || '';
                    const hours = p.hours || '';
                    const mustTry = p.mustTry || '';
                    const price = p.price || '';
                    
                    const query = encodeURIComponent(kr || cn);
                    
                    let catClass = 'cat-' + cat;
                    if(cat === 'Work' || cat === 'å±•è¦½' || cat === 'å·¥ä½œå’–å•¡') catClass = 'cat-Work';
                    
                    // å¿…åƒå¿…è²·å€å¡Š
                    let mustTryHtml = '';
                    if(mustTry) {
                        mustTryHtml = `
                        <div class="must-try-box">
                            <div class="must-try-title">â­ å¿…åƒå¿…è²·</div>
                            <div class="must-try-content">${mustTry}</div>
                            ${price ? `<span class="price-tag">ğŸ’° ${price}</span>` : ''}
                        </div>`;
                    }
                    
                    htmlContent += `
                    <div class="card" data-cat="${cat}" data-zone="${zone}">
                        <div class="card-header">
                            <div class="card-badges">
                                <span class="badge ${catClass}">${cat}</span>
                                <span class="badge zone">${zone}</span>
                            </div>
                        </div>
                        <div class="place-name-cn">${cn}</div>
                        <div class="place-name-kr">${kr}</div>
                        
                        ${note ? `<div class="info-row">ğŸ’¡ ${note}</div>` : ''}
                        <div class="info-row">ğŸ•’ ${hours}</div>
                        
                        ${mustTryHtml}
                        
                        <div class="actions">
                            <a href="https://www.google.com/maps/search/?api=1&query=${query}" target="_blank" class="action-btn btn-google">Google</a>
                            <a href="https://map.naver.com/p/search/${query}" target="_blank" class="action-btn btn-naver">Naver</a>
                        </div>
                    </div>`;
                });
                
                htmlContent += `<div style="text-align:center; margin-top:40px; color:#aaa; font-size:0.8rem;">Made with ğŸ¦ â€¢ é¦–çˆ¾è¡Œç¨‹æ‡¶äººåŒ…</div>`;
                
                listContainer.innerHTML = htmlContent;
            }
        } catch(error) {
            const errMsg = document.getElementById('error-msg');
            if(errMsg) {
                errMsg.style.display = 'block';
                errMsg.innerHTML = "âš ï¸ Error: " + error.message;
            }
        }

        function filter(cat) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            const btns = document.querySelectorAll('.tab-btn');
            for(let b of btns) {
                if(b.textContent.includes(cat) || (cat==='all' && b.textContent.includes('å…¨éƒ¨'))) {
                    b.classList.add('active');
                    break;
                }
            }

            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                const cCat = card.getAttribute('data-cat') || '';
                let show = false;
                
                if (cat === 'all') show = true;
                else if (cCat.indexOf(cat) > -1) show = true;
                else if (cat === 'è³¼ç‰©' && ['æœé£¾','é¸ç‰©','å½©å¦','é›œè²¨','è³¼ç‰©'].includes(cCat)) show = true;
                else if (cat === 'Work' && ['Work','å·¥ä½œå’–å•¡','å±•è¦½'].includes(cCat)) show = true;
                else if (cat === 'å’–å•¡ç”œé»' && ['å’–å•¡ç”œé»','æ—©åˆé¤'].includes(cCat)) show = true;
                
                card.style.display = show ? 'block' : 'none';
            });
            
            if(typeof updateMapFilter === 'function') updateMapFilter(cat);
        }
    </script>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
        let map = null;
        let markers = [];
        let isMapMode = false;

        function initMap() {
            if(map) return;
            if(typeof L === 'undefined') return;
            
            try {
                map = L.map('map').setView([37.5665, 126.9780], 12);
                
                L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                    attribution: '&copy; OpenStreetMap',
                    maxZoom: 20
                }).addTo(map);

                places.forEach(p => {
                    if(p.lat && p.lon) {
                        const marker = L.marker([p.lat, p.lon]);
                        const popup = `
                            <div style="text-align:center; min-width:160px;">
                                <div class="popup-title">${p.cn_name}</div>
                                <div style="font-size:0.8rem; color:#666; margin-bottom:5px;">${p.category}</div>
                                ${p.mustTry ? `<div style="font-size:0.75rem; color:#e65100; margin:5px 0;">â­ ${p.mustTry.substring(0,50)}...</div>` : ''}
                                <a href="https://map.naver.com/p/search/${encodeURIComponent(p.kr_name)}" target="_blank" class="popup-nav">Naver å°èˆª</a>
                            </div>`;
                        marker.bindPopup(popup);
                        markers.push({marker: marker, category: p.category});
                        marker.addTo(map);
                    }
                });
            } catch(e) {
                console.log("Map Error:", e);
            }
        }

        function updateMapFilter(cat) {
            if(!map) return;
            markers.forEach(m => {
                let show = false;
                if (cat === 'all') show = true;
                else if (m.category.indexOf(cat) > -1) show = true;
                else if (cat === 'è³¼ç‰©' && ['æœé£¾','é¸ç‰©','å½©å¦','é›œè²¨','è³¼ç‰©'].includes(m.category)) show = true;
                else if (cat === 'Work' && ['Work','å·¥ä½œå’–å•¡','å±•è¦½'].includes(m.category)) show = true;
                else if (cat === 'å’–å•¡ç”œé»' && ['å’–å•¡ç”œé»','æ—©åˆé¤'].includes(m.category)) show = true;

                if(show) m.marker.addTo(map);
                else m.marker.remove();
            });
        }

        function toggleMode() {
            const mapContainer = document.getElementById('map-container');
            const listContainer = document.getElementById('list-container');
            const btn = document.getElementById('map-btn');
            
            isMapMode = !isMapMode;
            
            if (isMapMode) {
                mapContainer.classList.add('visible');
                listContainer.style.display = 'none';
                btn.classList.add('active');
                btn.innerHTML = 'ğŸ“‹'; 
                
                if(!map) initMap();
                setTimeout(() => { if(map) map.invalidateSize(); }, 100);
            } else {
                mapContainer.classList.remove('visible');
                listContainer.style.display = 'block';
                btn.classList.remove('active');
                btn.innerHTML = 'ğŸ—ºï¸';
            }
        }
    </script>
</body>
</html>
